apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: test-macro-bananamall
  name: test-macro-bananamall
  namespace: macro
spec:
  containers:
  - image: selenium/standalone-chrome
    name: test-macro-bananamall
    command: ["bin/sh"]
    args:
      - "-c"
      - |
        set -e 
        apt-get update && apt-get install -y python3 python3-pip 
        pip3 install selenium webdriver-manager --break-system-package 
        python3 /app/macro-bananamall.py 
    securityContext:
      runAsUser: 0
    volumeMounts:
      - name: macro-script-volume
        mountPath: /app/macro-bananamall.py
        subPath: macro-bananamall.py
    resources: {}
  volumes:
    - name: macro-script-volume
      configMap:
        name: cm-bananamall
  dnsPolicy: ClusterFirst
  restartPolicy: Never
status: {}
